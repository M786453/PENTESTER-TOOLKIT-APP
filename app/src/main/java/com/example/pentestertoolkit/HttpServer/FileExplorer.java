package com.example.pentestertoolkit.HttpServer;

import android.util.Log;

import java.io.File;
import java.util.ArrayList;

public class FileExplorer {

    public static ArrayList<String[]> getData(String path){

        ArrayList<String[]> data = new ArrayList<>();

        try{

            File directory = new File(path);

            if (directory.exists() && directory.isDirectory()) {

                File[] files = directory.listFiles();

                if (files != null) {
                    for (File file : files) {
                        String[] item = new String[]{};
                        if (file.isDirectory()) {
                            item = new String[]{"FOLDER", file.getName()};
                            System.out.println("Directory: " + file.getName());
                            data.add(0, item);
                        } else if (file.isFile()) {
                            item = new String[]{"FILE", file.getName()};
                            System.out.println("File: " + file.getName());
                            data.add(item);
                        }


                    }
                }


            } else {
                System.out.println("Invalid directory path.");
            }

        }catch (Exception e){
            e.printStackTrace();
            Log.i("FILE_EXPLORER_ERR", e.getMessage());
        }




        return data;
    }


}
