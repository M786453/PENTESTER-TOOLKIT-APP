package com.example.pentestertoolkit;

import androidx.appcompat.app.AppCompatActivity;
import com.example.pentestertoolkit.Encoder.EncoderActivity;
import com.example.pentestertoolkit.GoogleDork.GoogleDorkActivity;
import com.example.pentestertoolkit.Hasher.HasherActivity;
import com.example.pentestertoolkit.HttpMonitor.HttpMonitorActivity;
import com.example.pentestertoolkit.HttpServer.HttpServerActivity;
import com.example.pentestertoolkit.Intruder.IntruderActivity;
import com.example.pentestertoolkit.Notes.NotesActivity;
import com.example.pentestertoolkit.PingUtility.PingUtilityActivity;
import com.example.pentestertoolkit.PortScan.PortScanActivity;
import com.example.pentestertoolkit.Privacy.PrivacyActivity;
import com.example.pentestertoolkit.Repeater.RepeaterActivity;
import com.example.pentestertoolkit.SiteMapper.SiteMapperActivity;

import android.content.Intent;
import android.os.Bundle;
import android.view.Gravity;
import android.view.LayoutInflater;
import android.view.View;
import android.widget.Button;
import android.widget.LinearLayout;
import android.widget.PopupWindow;
import android.widget.Toast;

public class HomeActivity extends AppCompatActivity implements View.OnClickListener{

    private LinearLayout linearLayoutParent;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);

        getSupportActionBar().hide();

        linearLayoutParent = findViewById(R.id.linearLayoutHome);

        findViewById(R.id.btnSiteMapper).setOnClickListener(this);
        findViewById(R.id.btnHttpMonitor).setOnClickListener(this);
        findViewById(R.id.btnEncoder).setOnClickListener(this);
        findViewById(R.id.btnHasher).setOnClickListener(this);
        findViewById(R.id.btnRepeater).setOnClickListener(this);
        findViewById(R.id.btnIntruder).setOnClickListener(this);
        findViewById(R.id.btnGoogleDork).setOnClickListener(this);
        findViewById(R.id.btnHttpServer).setOnClickListener(this);
        findViewById(R.id.btnPingUtility).setOnClickListener(this);
        findViewById(R.id.btnPortScan).setOnClickListener(this);
        findViewById(R.id.btnPrivacy).setOnClickListener(this);
        findViewById(R.id.btnNotes).setOnClickListener(this);

        // Show popup

//        showAgreementPopup();

    }


    @Override
    public void onClick(View view) {

        switch (view.getId()){
            case R.id.btnSiteMapper:
                startActivity(new Intent(HomeActivity.this, SiteMapperActivity.class));
                break;
            case R.id.btnHttpMonitor:
                startActivity(new Intent(HomeActivity.this, HttpMonitorActivity.class));
                break;
            case R.id.btnRepeater:
                startActivity(new Intent(HomeActivity.this, RepeaterActivity.class));
                break;
            case R.id.btnIntruder:
                startActivity(new Intent(HomeActivity.this, IntruderActivity.class));
                break;
            case R.id.btnEncoder:
                startActivity(new Intent(HomeActivity.this, EncoderActivity.class));
                break;
            case R.id.btnHasher:
                startActivity(new Intent(HomeActivity.this, HasherActivity.class));
                break;
            case R.id.btnGoogleDork:
                startActivity(new Intent(HomeActivity.this, GoogleDorkActivity.class));
                break;
            case R.id.btnHttpServer:
                startActivity(new Intent(HomeActivity.this, HttpServerActivity.class));
                break;
            case R.id.btnPingUtility:
                startActivity(new Intent(HomeActivity.this, PingUtilityActivity.class));
                break;
            case R.id.btnPortScan:
                startActivity(new Intent(HomeActivity.this, PortScanActivity.class));
                break;
            case R.id.btnPrivacy:
                startActivity(new Intent(HomeActivity.this, PrivacyActivity.class));
                break;
            case R.id.btnNotes:
//                startActivity(new Intent(HomeActivity.this, NotesActivity.class));
                showAgreementPopup();
                break;
        }

    }

    private void showAgreementPopup(){

        // UI Components
        View agreement_view = getLayoutInflater().inflate(R.layout.ethical_use_agreement_popup, null);
        Button btnAccept = agreement_view.findViewById(R.id.btnAcceptAgreement);
        Button btnDecline = agreement_view.findViewById(R.id.btnDeclineAgreement);


        // Setup popup window
        int width = LinearLayout.LayoutParams.MATCH_PARENT;
        int height = LinearLayout.LayoutParams.MATCH_PARENT;
        PopupWindow agreement_popup_window = new PopupWindow(agreement_view, width, height, true);

        agreement_popup_window.showAtLocation(linearLayoutParent, Gravity.CENTER, 0, 0);


        // Accept Functionality
        btnAccept.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Toast.makeText(HomeActivity.this, "Agreement Accepted.", Toast.LENGTH_SHORT).show();
            }
        });

        // Decline Functionality
        btnDecline.setOnClickListener(new View.OnClickListener() {
            @Override
            public void onClick(View view) {
                Toast.makeText(HomeActivity.this, "Agreement Decline.", Toast.LENGTH_SHORT).show();
            }
        });



    }


}